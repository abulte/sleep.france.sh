{% extends "layout_header.html" %}

{% block content %}
<ul class="nav mb-3">
    <li class="nav-item">
        <a class="nav-link" href="{{ url_for('day_view', day=today) }}">Mon journal du jour</a>
    </li>
    <li class="nav-item">
        <a class="nav-link" href="{{ url_for('day_summary', day=today) }}">Mes donn√©es aujourd'hui</a>
    </li>
    <li class="nav-item">
        <a class="nav-link" href="{{ url_for('account') }}">Mon compte</a>
    </li>
</ul>
<section>
    <div id="calendar"></div>
</section>
{% endblock %}

{% block extrajs %}
<script>
document.addEventListener("DOMContentLoaded", function() {
    var calendarEl = document.getElementById("calendar")
    var calendar = new FullCalendar.Calendar(calendarEl, {
        initialView: "dayGridMonth",
        themeSystem: "bootstrap5",
        locale: "fr",
        headerToolbar: {
            left: 'dayGridMonth,timeGridWeek,timeGridDay',
            center: 'title',
            right: 'today prev,next'
        },
        eventSources: [
            {
                url: "{{ url_for('api.calendar') }}",
                color: "yellow",
                extraParams: {calendar: "sleep"},
                textColor: "black",
            },
            {
                url: "{{ url_for('api.calendar') }}",
                color: "blue",
                extraParams: {calendar: "mood"},
            },
            {
                url: "{{ url_for('api.calendar') }}",
                color: "red",
                extraParams: {calendar: "stress"},
            },
        ]
    })
    calendar.render()
})
</script>
<script src="https://cdn.jsdelivr.net/npm/fullcalendar@5.10.2/main.min.js" integrity="sha256-YicH/8aE660iEnJtgll3vT54dJApy3XkYmqNfGVFEzA=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/fullcalendar@5.10.2/locales-all.min.js" integrity="sha256-GcByKJnun2NoPMzoBsuCb4O2MKiqJZLlHTw3PJeqSkI=" crossorigin="anonymous"></script>
{% endblock %}

{% block extracss %}
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fullcalendar@5.10.2/main.min.css" integrity="sha256-5veQuRbWaECuYxwap/IOE/DAwNxgm4ikX7nrgsqYp88=" crossorigin="anonymous">
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css" rel="stylesheet">
{% endblock %}
